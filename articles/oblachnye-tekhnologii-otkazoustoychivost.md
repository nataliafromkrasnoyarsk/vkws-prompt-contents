# Пять облачных технологий для отказоустойчивой инфраструктуры

> **Meta-данные**
> - **Title:** Облачные технологии для отказоустойчивости: 5 решений
> - **Description:** 5 облачных технологий для отказоустойчивой инфраструктуры: георезервирование, балансировка, автоскейлинг, Kubernetes и DRaaS. Практические рекомендации.
> - **URL:** /blog/oblachnye-tekhnologii-otkazoustoychivost

---

По данным исследования 2024 года, 58% российских компаний столкнулись с незапланированными простоями IT-систем или потерей данных. Потери даже от однодневного простоя сервера составляют около 146 000 рублей — больше месячной зарплаты штатного системного администратора. Для крупного бизнеса убытки исчисляются десятками миллионов. Рассмотрим пять технологий, которые формируют фундамент отказоустойчивой облачной инфраструктуры.

## 1. Георезервирование

Георезервирование защищает от региональных сбоев через распределение ресурсов между географически удалёнными площадками. Российские облачные провайдеры (VK Cloud, Yandex Cloud, Cloud.ru) предоставляют несколько зон доступности уровня Tier III.

**Три модели:**
- **Active-Active** — обе площадки обрабатывают трафик одновременно, минимальный RTO
- **Active-Passive** — резервная площадка активируется при сбое основной
- **Шардирование** — разные регионы обслуживают разные сегменты пользователей

Синхронная репликация возможна при латентности до 5-10 мс. Для больших расстояний — асинхронная репликация с определённым RPO.

## 2. Балансировка нагрузки

Балансировщик распределяет трафик между экземплярами приложения, исключая единую точку отказа.

**L4 vs L7:** L4 работает на уровне TCP/UDP — высокая производительность для баз данных и стриминга. L7 оперирует на уровне HTTP — маршрутизация по URL, SSL-терминация, подходит для веб-приложений.

**Health checks:** настройте TCP-проверки (доступность порта), HTTP-проверки (код 200) и глубокие проверки зависимостей. Интервал 5-10 секунд с порогом 2-3 неудачных проверок.

## 3. Автомасштабирование

Автоматическое изменение количества ресурсов в зависимости от нагрузки.

**Горизонтальное масштабирование** (добавление экземпляров) — приоритетный подход для high availability. Требует stateless-архитектуры.

**Политики:**
- **Target tracking** — поддержание целевой метрики (CPU 60%)
- **Step scaling** — разная интенсивность реакции на разные пороги
- **Predictive** — ML-алгоритмы для упреждающего масштабирования

Настройте cooldown-периоды 60-300 секунд между операциями.

## 4. Managed Kubernetes

Kubernetes предоставляет встроенные механизмы отказоустойчивости. Российские managed-решения: VK Cloud Kubernetes, Yandex Managed Kubernetes, Deckhouse от Флант.

**Self-healing:** liveness probes перезапускают зависшие контейнеры, readiness probes исключают неготовые поды из балансировки.

**Rolling updates:** постепенная замена старых подов новыми без простоя. Параметры maxUnavailable и maxSurge контролируют процесс.

**Pod Disruption Budget:** гарантирует минимальное количество доступных экземпляров при административных операциях. Для критичных сервисов — minAvailable не менее 50%.

## 5. Disaster Recovery as a Service

**RPO** (Recovery Point Objective) — допустимый объём потерянных данных. **RTO** (Recovery Time Objective) — допустимое время восстановления.

| Класс | RPO | RTO | Решение |
|-------|-----|-----|---------|
| Mission-critical | < 1 мин | < 15 мин | Синхронная репликация |
| Business-critical | < 1 час | < 4 часов | Асинхронная репликация |
| Standard | < 24 часа | < 24 часов | Периодические бэкапы |

**Критично:** по российским данным, 28% заданий резервного копирования выполняются с ошибками — данные из таких бэкапов не восстановить. При этом 26% компаний вообще не тестируют восстановление. Тестируйте восстановление ежемесячно, полное — ежеквартально.

## Чек-лист архитектора

- [ ] Ресурсы в 2+ зонах доступности, критичные системы — в 2+ регионах
- [ ] Все публичные сервисы за балансировщиком с health checks
- [ ] Настроено автомасштабирование по метрикам приложения
- [ ] Liveness/readiness probes и PDB для Kubernetes-сервисов
- [ ] Определены RPO/RTO, бэкапы автоматизированы и тестируются

---

## Источники

- [Известия: 58% компаний столкнулись с простоями](https://en.iz.ru/en/1864728/2025-04-03/russia-almost-60-companies-have-experienced-downtime-or-data-loss)
- [ivit.pro: Стоимость простоя IT-инфраструктуры](https://ivit.pro/blog/skolko-teryaet-biznes-ot-prostoya-it-infrastruktury-chast-1/)
- [Anti-Malware: Обзор рынка резервного копирования 2025](https://www.anti-malware.ru/analytics/Market_Analysis/Russian-BackUp-systems-2025)
- [TAdviser: Резервное копирование данных (рынок России)](https://www.tadviser.ru/index.php/Статья:Резервное_копирование_данных_(рынок_России))
